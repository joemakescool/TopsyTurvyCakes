@page "{id}"


@{
    
    var id = long.Parse((string)RouteData.Values["id"]);
    var recipesService = new RecipesService(); // like the controller
    var recipe = await recipesService.FindAsync(id);
    ViewData["Title"] = recipe.Name;
}


<div class="container">
    <div class="row recipe">
        <div class="col-md-8">
            <div class="col-md-12">
                <span class="description">
                    @recipe.Description
                </span>
                <hr />
            </div>
            <div class="ingredients col-md-4">
                <h4>Ingredients</h4>
                <ul>
                    @foreach (var ingredient in recipe.IngredientsList)
                    {
                        <li>@ingredient</li>
                    }

                </ul>
            </div>
            @foreach (var step in recipe.DirectionsList)
            {
                <div class="directions col-md-8">
                    <h4>Directions</h4>
                    <ol>
                        <li>@step/li>
                    </ol>
                </div>
            }

        </div>
        <div class="col-md-4 text-right">
            <img class="img img-thumbnail" src="@recipe.GetInlineImageSrc()" />
        </div>
    </div>

</div>
